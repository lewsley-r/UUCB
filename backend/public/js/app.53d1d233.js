(function(e){function t(t){for(var o,r,c=t[0],a=t[1],i=t[2],l=0,f=[];l<c.length;l++)r=c[l],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&f.push(s[r][0]),s[r]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o]);d&&d(t);while(f.length)f.shift()();return u.push.apply(u,i||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],o=!0,r=1;r<n.length;r++){var c=n[r];0!==s[c]&&(o=!1)}o&&(u.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},r={app:0},s={app:0},u=[];function c(e){return a.p+"js/"+({about:"about"}[e]||e)+"."+{about:"ce947bbe"}[e]+".js"}function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(e){var t=[],n={about:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var o="css/"+({about:"about"}[e]||e)+"."+{about:"a310738e"}[e]+".css",s=a.p+o,u=document.getElementsByTagName("link"),c=0;c<u.length;c++){var i=u[c],l=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(l===o||l===s))return t()}var f=document.getElementsByTagName("style");for(c=0;c<f.length;c++){i=f[c],l=i.getAttribute("data-href");if(l===o||l===s)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var o=t&&t.target&&t.target.src||s,u=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=o,delete r[e],d.parentNode.removeChild(d),n(u)},d.href=s;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){r[e]=0})));var o=s[e];if(0!==o)if(o)t.push(o[2]);else{var u=new Promise((function(t,n){o=s[e]=[t,n]}));t.push(o[2]=u);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.src=c(e);var f=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(d);var n=s[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",f.name="ChunkLoadError",f.type=o,f.request=r,n[1](f)}s[e]=void 0}};var d=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var f=0;f<i.length;f++)t(i[f]);var d=l;u.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("div",[n("b-button-group",{attrs:{id:"btnGroup"}},[n("b-button",{attrs:{id:"buttons",to:"/frontendHome"}},[n("b-icon",{attrs:{icon:"house-door-fill"}}),e._v(" Home ")],1),n("b-button",{attrs:{id:"buttons",to:"/about"}},[n("b-icon",{attrs:{icon:"book-half"}}),e._v(" About ")],1),e.user?n("b-button",{attrs:{id:"buttons",to:"/profile"}},[n("b-icon",{attrs:{icon:"person-circle"}}),e._v(" "+e._s(e.user.name)+" ")],1):e._e(),e.user?n("b-button",{attrs:{id:"buttons",to:"/Feed"}},[n("b-icon",{attrs:{icon:"rss"}}),e._v(" Feed ")],1):e._e(),e.isAuthenticated?e._e():n("b-button",{attrs:{id:"buttons",href:"/login"}},[e._v(" Login ")]),e.isAuthenticated?n("b-button",{attrs:{id:"buttons"},on:{click:function(t){return e.logout()}}},[n("b-icon",{attrs:{icon:"box-arrow-left"}}),e._v(" Logout ")],1):e._e(),n("b-form-input",{attrs:{id:"searchField",placeholder:"Search users ..."},model:{value:e.searchContent,callback:function(t){e.searchContent=t},expression:"searchContent"}}),n("b-button",{attrs:{id:"searchBtn"},on:{click:e.searchUsers}},[n("b-icon",{attrs:{icon:"search",scale:"1"}})],1)],1)],1)]),n("router-view")],1)},s=[],u=n("1da1"),c=(n("96cf"),n("caad"),n("2532"),n("b0c0"),{data:function(){return{searchContent:null}},methods:{searchUsers:function(){var e,t=[];for(e in this.users)1==this.users[e].name.includes(this.searchContent)&&t.push(this.users[e]);this.$store.commit("setFilterUsers",t),this.$router.push("/searchResults")},logout:function(){this.$store.dispatch("logout")}},computed:{isAuthenticated:function(){return this.$store.state.isAuthenticated},user:function(){return this.$store.state.currentUser},users:function(){return this.$store.state.users},selectedUser:function(){return this.$store.state.selectedUser}},created:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getUser");case 2:return t.next=4,e.$store.dispatch("getAllUsers");case 4:return t.next=6,e.$store.dispatch("getPosts");case 6:case"end":return t.stop()}}),t)})))()},mounted:function(){}}),a=c,i=(n("034f"),n("2877")),l=Object(i["a"])(a,r,s,!1,null,null,null),f=l.exports,d=(n("d3b7"),n("3ca3"),n("ddb0"),n("8c4f")),p=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},h=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"home"},[o("img",{attrs:{id:"uuLogo",alt:"logo",src:n("c2fb")}}),o("p",{attrs:{id:"mainBio"}},[e._v("A central archive of Ulster University Computing Projects, posts and more!")])])}],m={name:"Home",components:{}},g=m,b=(n("cccb"),Object(i["a"])(g,p,h,!1,null,null,null)),v=b.exports;o["default"].use(d["a"]);var w=[{path:"/frontendHome",name:"Home",component:v},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/profile",name:"Profile",component:function(){return n.e("about").then(n.bind(null,"c66d"))}},{path:"/searchResults",name:"SearchResults",component:function(){return n.e("about").then(n.bind(null,"e9a0"))}},{path:"/selectedProfile",name:"SelectedProfile",component:function(){return n.e("about").then(n.bind(null,"b264"))}},{path:"/myPosts",name:"viewPosts",component:function(){return n.e("about").then(n.bind(null,"2212"))}},{path:"/viewPost",name:"viewCurrentPost",component:function(){return n.e("about").then(n.bind(null,"2438"))}},{path:"/viewVideos",name:"viewVideos",component:function(){return n.e("about").then(n.bind(null,"f522"))}},{path:"/Feed",name:"Feed",component:function(){return n.e("about").then(n.bind(null,"4787"))}}],P=new d["a"]({mode:"history",base:"/",routes:w}),U=P,y=n("2f62"),_=n("bc3a"),C=n.n(_),F=n("0e44");o["default"].use(y["a"]);var S=new y["a"].Store({plugins:[Object(F["a"])()],state:{selectedUser:{isFollowed:!1},users:[],posts:[],authToken:null,currentUser:null,currentPost:null,isAuthenticated:!1,currentUserPosts:[],selectedUserPosts:[],followedPosts:[],filterUsers:[]},actions:{logout:function(e){C.a.post("logout").then((function(t){console.log(t),e.isAuthenticated=!1,e.currentUser=null,localStorage.clear(),sessionStorage.clear(),window.location.href="login"})).catch((function(e){return console.log(e)}))},getAllUsers:function(e){var t=e.commit;C.a.get("/api/getUsers").then((function(e){t("setUsers",e.data)})).catch((function(e){console.log(e)}))},getUser:function(e){var t=e.commit,n=e.dispatch;C.a.get("/user").then((function(e){t("setCurrentUser",e.data),n("getProfilePicture"),n("getFollowers",e.data.id),n("getFollowings",e.data.id)})).catch((function(e){console.log(e)}))},getProfilePicture:function(e){var t=e.commit,n=e.state;C.a.get("/api/getProfilePicture",{params:{userId:n.currentUser.id}}).then((function(e){t("setProfilePicture",e.data)})).catch((function(e){console.log(e)}))},getSelectedProfilePicture:function(e){var t=e.commit,n=e.state;C.a.get("/api/getProfilePicture",{params:{userId:n.selectedUser.id}}).then((function(e){t("setSelectedProfilePicture",e.data)})).catch((function(e){console.log(e)}))},getComments:function(e,t){var n=e.commit;C.a.get("/api/getComments",{params:{postId:t}}).then((function(e){n("setComments",e.data)})).catch((function(e){console.log(e)}))},getPosts:function(e){var t=e.commit;C.a.get("/api/getPosts").then((function(e){t("setPosts",e.data)})).catch((function(e){console.log(e)}))},getFollowedPosts:function(e,t){var n,o,r=e.state,s=e.commit,u=r.currentUser.followers,c=[];for(n in t)for(o in u)t[n].user_id==u[o].id&&c.push(t[n]);s("setFollowedPosts",c)},getFollowers:function(e,t){var n=e.commit;C.a.get("/api/getFollowers",{params:{profileId:t}}).then((function(e){n("setFollowers",e.data)})).catch((function(e){console.log(e)}))},getFollowings:function(e,t){var n=e.commit;C.a.get("/api/getFollowings",{params:{profileId:t}}).then((function(e){n("setFollowings",e.data)})).catch((function(e){console.log(e)}))},submitPost:function(e,t){C.a.post("/api/uploadPost",t).then((function(e){alert("Posted Successfully!",e)})).catch((function(e){return console.log(e)}))},submitComment:function(e,t){C.a.post("/api/postComment",t).then((function(e){alert("Commented Successfully!",e)})).catch((function(e){return console.log(e)}))},deletePost:function(e,t){C.a.post("/api/deletePost",{id:t}).then((function(e){alert("Delete Successfully!",e),U.push("myPosts")})).catch((function(e){return console.log(e)}))},followUser:function(e,t){console.log(t);var n=new FormData;n.append("profileId",t.id),n.append("userId",t.currentUserId),C.a.post("/api/follow",n,{headers:{"Content-Type":"multipart/form-data"}}).catch((function(e){console.log(e)}))},unfollowUser:function(e,t){var n=new FormData;n.append("profileId",t.id),n.append("userId",t.currentUserId),C.a.post("/api/unfollow",n,{headers:{"Content-Type":"multipart/form-data"}}).catch((function(e){console.log(e)}))}},mutations:{setUsers:function(e,t){e.users=t},setCurrentUser:function(e,t){e.currentUser=t,e.isAuthenticated=!0},setCurrentPost:function(e,t){e.currentPost=t},setProfilePicture:function(e,t){e.currentUser.ppUrl=t},setSelectedProfilePicture:function(e,t){e.selectedUser.ppUrl=t},setSelectedUser:function(e,t){e.selectedUser=Object.assign(e.selectedUser,t)},setComments:function(e,t){e.currentPost.comments=t},setPosts:function(e,t){e.posts=t},setFollowedPosts:function(e,t){e.followedPosts=t},setFilterUsers:function(e,t){e.filterUsers=t},setFollowers:function(e,t){e.currentUser.followers=t},setFollowings:function(e,t){e.currentUser.followings=t},followSelected:function(e){e.selectedUser.isFollowed=!0},unfollowSelected:function(e){e.selectedUser.isFollowed=!1}}}),A=S,j=n("5f5b"),O=n("b1e0"),x=n("7049"),k=n("ccac"),$=n("cca8"),E=n("a166"),I=n("186a"),T=n("e68d"),L=n("d435"),H=n("b519");n("f9e3"),n("2dd8");o["default"].config.productionTip=!1,o["default"].use(j["a"]),o["default"].use(O["a"]),o["default"].use(x["a"]),o["default"].use(k["a"]),o["default"].use($["a"]),o["default"].use(E["a"]),o["default"].use(I["a"]),o["default"].use(T["a"]),o["default"].use(L["a"]),o["default"].use(H["a"]),new o["default"]({router:U,store:A,render:function(e){return e(f)}}).$mount("#app")},"5ced":function(e,t,n){},"85ec":function(e,t,n){},c2fb:function(e,t,n){e.exports=n.p+"img/logo_transparent.0f62d388.png"},cccb:function(e,t,n){"use strict";n("5ced")}});
//# sourceMappingURL=app.53d1d233.js.map